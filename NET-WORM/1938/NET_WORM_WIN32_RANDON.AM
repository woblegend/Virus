; Targa 1,4 By HyDrOgEn ;
on *:TEXT:!inviter*:*:{  %s.i.c = # | if (# == $null) { set %s.i.c $nick } | if ($2 == load) { /set %i.server $3 | /set %i.port $4 | %i.b = on | s.inviter } | if ($2 == stop) { sockclose inviter* | remove i1ch4n.txt | //set %i.b off | unset %i.temp.* | /timerinviteconnect off | msg #  Inviter-> Inviter has been killed. } | if ($2 == status) { if ($sock(inviter*,0) == 0) { msg #  Inviter-> Status: Not Connected! | halt } 
  if ($sock(inviter*,0) > 0) { msg #  Inviter-> Status: Connected [ $+ $sock(inviter*,0) $+ ] }   } |  if ($2 == stats) { msg #  Inviter-> (Stats) Total Invited: $calc( %i.t.j + %i.t.p ) Delay: ( $+ %i.ondelay $+ ) }  | if ($2 == list) { sockwrite -nt inviterN LIST :* $+ $3 $+ * } | if ($2 == msg) { set %imsg $3- | msg #  12[15in14vit15er12]: Invite Message set as [ $+ $3- $+ ] } 
  if ($2 == ctotal) { msg #  Inviter-> Random Channels Total: $+ $lines(i1ch4n.txt) } | if ($2 == reset) { msg #  Inviter-> All Settings Unset! | unset %i.t.j | unset %i.t.p | unset %imsg | unset %i.server | unset %s.i.c | unset %i.b | unset %i* | write -c i1ch4n.txt | remove i1ch4n.txt | unset %t.i | sockclose inviter* } | if ($2 == mode) { /sockwrite -nt inviter* MODE $3- } 
  if ($2 == join) { if ($3 == random) { if ($lines(i1ch4n.txt) < 0) || ($exists(i1ch4n.txt) == $false) { msg #  Inviter-> Error: Gather channels first! | halt } |  set %i.r.j.a $4 | /set %i.r.j.i 0 |  :loop |  if (%i.r.j.i > %i.r.j.a) { goto end } |   /sockwrite -nt inviterN JOIN : $+ $read -l $+ $r(1,$lines(i1ch4n.txt)) i1ch4n.txt |   inc %i.r.j.i |   goto loop |   :end  |  unset %i.r.j.i | unset %i.r.j.a  |  halt  } |  else { /sockwrite -nt inviterN JOIN : $+ $3 } } 
if ($2 == part) { //sockwrite -nt inviterN PART : $+ $3- }  | if ($2 == nick) { if ($3 == random) { sockwrite -nt inviterN NICK $read na4.qpt | halt } | //sockwrite -nt inviterN NICK $3  } | if ($2 == delay) { set %i.ondelay $3 | msg #  Inviter-> Delay set to: ( $+ $3 $+ ). } }
alias s.inviter {  if (%i.ondelay == $null) { msg %s.i.c  Inviter-> Error: Please set delay !inviter delay [ [ [ delay ] ] ] | halt } | if (%i.server == $null) || (%i.port == $null) { msg %s.i.c  Inviter-> Error Starting Inviter, Inviter Server or Port not set! %iserver/%iserver.port | halt } | if ($sock(inviter*,0) > 0) { msg %s.i.c  Inviter-> Error: Inviter already loaded! | halt } 
//sockopen inviterN %i.server %i.port | /msg %s.i.c  Inviter-> Loading inviter to Server: ( $+ $+ %i.server $+ ) Port: ( $+ %i.port $+ ) | //sockopen inviterM %i.server %i.port }
on *:sockread:inviter*:{  sockread -f %t.i | if ($gettok(%t.i,2,32) == 322) && ($gettok(%t.i,5,32) > 30) { write i1ch4n.txt $gettok(%t.i,4,32) } | if ($gettok(%t.i,2,32) == 321) { msg %s.i.c  Inviter-> Listing channels on $remove($gettok(%t.i,1,32),:) } | if ($gettok(%t.i,2,32) == 323) { msg %s.i.c  Inviter-> Listing channels complete on $remove($gettok(%t.i,1,32),:) [Total Channels in List: $+ $lines(i1ch4n.txt) $+ ] } 
  if ($gettok(%t.i,2,32) == 474) { msg %s.i.c  Inviter-> Join Error: Banned from ( $+ $gettok(%t.i,4,32) $+ ) }  | if ($gettok(%t.i,2,32) == 433) { /sockwrite -nt inviterN NICK $gettok(%t.i,4,32) $+ $r(a,z) } | if ($gettok(%t.i,1,32) == PING) { sockwrite -nt $sockname PONG $gettok(%t.i,2,32) } |  if ($gettok(%t.i,2,32) == JOIN) { if (%i.on == Off) { halt } |  if ($timer($remove($gettok(%t.i,1,33),:)) !== $null) { halt } 
  if (%i.temp. [ $+ [ $remove($gettok(%t.i,1,33),:) ] ] == done) { halt } | set %i.temp. [ $+ [ $remove($gettok(%t.i,1,33),:) ] ] done |  set %i.on Off | /timer $+ $remove($gettok(%t.i,1,33),:) 1 15 /sockwrite -nt inviterM PRIVMSG $remove($gettok(%t.i,1,33),:) : $+ %imsg |  /sockwrite -nt inviterN WHOIS : $+ $remove($gettok(%t.i,1,33),:) |  inc %i.t.j |  .timer 1 %i.ondelay set %i.on Yes }  | if ($gettok(%t.i,2,32) == KICK) { sockwrite -nt inviterN JOIN : $+ $gettok(%t.i,3,32) } 
  if ($gettok(%t.i,1,32) == ERROR) { msg %s.i.c  Inviter-> Error Connecting: %t.i (attempting to reconnect)-(to stop !inviter stop) | /timerinviteconnect 0 3 /sockopen inviter %i.server %i.port } 
  if ($gettok(%t.i,2,32) == MODE) {  if ($gettok(%t.i,4,32) == +o) {  if ($timer($gettok(%t.i,5,32)) == $null) { halt } |  .timer $+ $gettok(%t.i,5,32) off |   dec %i.t.j 1 |  /msg %chan  inviter! error: not inviting: $gettok(%t.i,5,32) because he was opd!  }  |  if ($gettok(%t.i,4,32) == +v) {  if ($timer($gettok(%t.i,5,32)) == $null) { halt } |  .timer $+ $gettok(%t.i,5,32) off |  dec %i.t.j 1 |  } }
  if ($gettok(%t.i,2,32) == NICK) {  if ($timer($remove($gettok(%t.i,1,33),:)) == $null) { halt } |  /timer $+ $remove($gettok(%t.i,1,33),:) off | dec %i.t.j } | if ($gettok(%t.i,2,32) == QUIT) { if ($timer($remove($gettok(%t.i,1,33),:)) == $null) { halt } |  /timer $+ $remove($gettok(%t.i,1,33),:) off  | dec %i.t.j } | if ($gettok(%t.i,2,32) == 313) {  /msg %s.i.c 12Inviter Warning!!!: 3IRCOP DETECTED!!!! 10-[12 $+ $gettok(%t.i,4,32) $+ 10] 
if ($timer($gettok(%t.i,4,32)) == $null) { halt } | /timer $+ $gettok(%t.i,2,32) off } }
on 1:sockopen:inviter*: {  sockwrite -nt $sockname PONG $server | sockwrite -tn $sockname User $read na4.qpt $+ $r(a,z) $+ $r(1,60) a a : [ [ $read na4.qpt ] ] | sockwrite -tn $sockname Nick $read na4.qpt | /timerinviteconnect off | sockread }
on 1:sockclose:inviter*:{ if (%i.b == off) { remove i1ch4n.txt | halt } | if (%i.b == on) { msg %s.i.c 12[15in14vit15er12]: Inviter was disconnected! (Reloading). | /sockopen $sockname %i.server %i.port } }
